(function(b,x,t){function w(){if(0!==b("#vf_msg").length)return!1;q=b('<div id="vf_msg"><div class="vf_title">'+p.tit+'<a class="vf_close" href="javascript:void(0);">Ï‡</a></div><div class="vf_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body");q.find("a.vf_close").click(function(){q.hide();v=!0;u&&u.focus().addClass("vf_error");return!1}).focus(function(){this.blur()});b(window).bind("scroll resize",function(){})}
var u=null,q=null,v=!0,p={tit:"\u63d0\u793a\u4fe1\u606f",w:{"*":"\u4e0d\u80fd\u4e3a\u7a7a\uff01","*6-16":"\u8bf7\u586b\u51996\u523016\u4f4d\u4efb\u610f\u5b57\u7b26\uff01",z:"\u53ea\u80fd\u8f93\u5165\u6c49\u5b57\uff01","z2-4":"\u8bf7\u586b\u51992\u52304\u4e2a\u6c49\u5b57\uff01",n:"\u8bf7\u586b\u5199\u6570\u5b57\uff01","n6-16":"\u8bf7\u586b\u51996\u523016\u4f4d\u6570\u5b57\uff01",s:"\u4e0d\u80fd\u8f93\u5165\u7279\u6b8a\u5b57\u7b26\uff01","s6-18":"\u8bf7\u586b\u51996\u523018\u4f4d\u5b57\u7b26\uff01",
p:"\u8bf7\u586b\u5199\u90ae\u653f\u7f16\u7801\uff01",m:"\u8bf7\u586b\u5199\u624b\u673a\u53f7\u7801\uff01",e:"\u90ae\u7bb1\u5730\u5740\u683c\u5f0f\u4e0d\u5bf9\uff01",url:"\u8bf7\u586b\u5199\u7f51\u5740\uff01",idcard:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1"},def:"\u8bf7\u586b\u5199\u6b63\u786e\u4fe1\u606f\uff01",undef:"datatype\u672a\u5b9a\u4e49\uff01",reck:"\u4e24\u6b21\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u4e00\u81f4\uff01",r:"\u901a\u8fc7\u4fe1\u606f\u9a8c\u8bc1\uff01",c:"\u6b63\u5728\u68c0\u6d4b\u4fe1\u606f\u2026",
s:"\u8bf7{\u586b\u5199|\u9009\u62e9}{0|\u4fe1\u606f}\uff01",v:"\u6240\u586b\u4fe1\u606f\u6ca1\u6709\u7ecf\u8fc7\u9a8c\u8bc1\uff0c\u8bf7\u7a0d\u540e\u2026",p:"\u6b63\u5728\u63d0\u4ea4\u6570\u636e\u2026"};b.Tipmsg=p;var g=function(a,c,e){c=b.extend({},g.defaults,c);c.datatype&&b.extend(g.util.dataType,c.datatype);var f=this;f.tipmsg={w:{}};f.forms=a;f.objects=[];if(!0===e)return!1;a.each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var a=this;a.settings=b.extend({},
c);var d=b(a);a.validform_status="normal";d.data("tipmsg",f.tipmsg);d.delegate("[datatype]","blur",function(a,b){g.util.check.call(this,d,b)});d.delegate("[type='text']","keypress",function(a){13==a.keyCode&&0==d.find("[type='submit']").length&&d.submit()});g.util.enhance.call(d,a.settings.tiptype,a.settings.usePlugin,a.settings.tipSweep);a.settings.btnSubmit&&d.find(a.settings.btnSubmit).bind("click",function(){d.trigger("submit");return!1});d.submit(function(){var b=g.util.submitForm.call(d,a.settings);
b===t&&(b=!0);return b});d.find("[type='reset']").add(d.find(a.settings.btnReset)).bind("click",function(){g.util.resetForm.call(d)})});(1==c.tiptype||(2==c.tiptype||3==c.tiptype)&&c.ajaxPost)&&w()};g.defaults={ignoreHidden:1,tiptype:1,tipSweep:!1,showAllError:!1,postonce:!1,ajaxPost:!1};g.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,z:/^[\u4E00-\u9FA5\uf900-\ufa2d]+$/,"z2-4":/^[\u4E00-\u9FA5\uf900-\ufa2d]{2,4}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,
p:/^[0-9]{6}$/,"m":/^1[35789]{1}[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,idcard:function(a){function b(a){var b=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var c=0;17>c;c++)b+=g[c]*a[c];return valCodePosition=b%11,a[17]==d[valCodePosition]?!0:!1}function e(a){var b=a.substring(6,10),d=a.substring(10,12);a=a.substring(12,14);var c=new Date(b,parseFloat(d)-1,parseFloat(a));return c.getFullYear()!=parseFloat(b)||c.getMonth()!=
parseFloat(d)-1||c.getDate()!=parseFloat(a)?!1:!0}function f(a){var b=a.substring(6,8),d=a.substring(8,10);a=a.substring(10,12);var c=new Date(b,parseFloat(d)-1,parseFloat(a));return c.getYear()!=parseFloat(b)||c.getMonth()!=parseFloat(d)-1||c.getDate()!=parseFloat(a)?!1:!0}var g=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],d=[1,0,10,9,8,7,6,5,4,3,2];if(15==a.length)return f(a);if(18==a.length){var k=a.split("");return e(a)&&b(k)?!0:!1}return!1},money:function(a,b,e,f){if(null==a.match(/^[0-9]+(.[0-9]{1,2})?$/))return!1;
if(1==a.length&&"0"==a)return!0;if("0"==a.substring(0,1)&&1<a.length)return!1;a=parseFloat(a);return isNaN(a)||5>a||50<a?!1:!0},"float":function(a,b,e,f){if(null==a.match(/^[0-9]+(.[0-9]{1,2})?$/))return!1;if(1==a.length&&"0"==a)return!0;if("0"==a.substring(0,1)&&1<a.length)return!1;a=parseFloat(a);return isNaN(a)||0>a||20<a?!1:!0}},toString:Object.prototype.toString,isEmpty:function(a){return""===a||a===b.trim(this.attr("tip"))},getValue:function(a){var c;a.is("[type='radio']")?(c=this.find("[type='radio'][name='"+
a.attr("name")+"']:checked").val(),c=c===t?"":c):a.is("[type='checkbox']")?(c="",this.find("[type='checkbox'][name='"+a.attr("name")+"']:checked").each(function(){c+=b(this).val()+","}),c=c===t?"":c):c=a.val();c=b.trim(c);return g.util.isEmpty.call(a,c)?"":c},enhance:function(a,c,e,f){var h=this;h.find("[datatype]").each(function(){2==a?0==b(this).parent().next().find(".vf_checktip").length&&(b(this).parent().next().append("<span class='vf_checktip'><i></i></span>"),b(this).siblings(".vf_checktip").remove()):
3!=a&&4!=a||0!=b(this).siblings(".vf_checktip").length||(b(this).parent().append("<span class='vf_checktip'><i></i></span>"),b(this).parent().next().find(".vf_checktip").remove())});h.find("input[recheck]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var a=b(this),c=h.find("input[name='"+b(this).attr("recheck")+"']");c.bind("keyup",function(){if(c.val()==a.val()&&""!=c.val()){if(c.attr("tip")&&c.attr("tip")==c.val())return!1;a.trigger("blur")}}).bind("blur",
function(){if(c.val()!=a.val()&&""!=a.val()){if(a.attr("tip")&&a.attr("tip")==a.val())return!1;a.trigger("blur")}})});h.find("[tip]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var a=b(this).attr("tip"),c=b(this).attr("altercss");b(this).focus(function(){b(this).val()==a&&(b(this).val(""),c&&b(this).removeClass(c))}).blur(function(){""===b.trim(b(this).val())&&(b(this).val(a),c&&b(this).addClass(c))})});h.find("[type='checkbox'][datatype],[type='radio'][datatype]").each(function(){if("inited"==
this.validform_inited)return!0;this.validform_inited="inited";var a=b(this),c=a.attr("name");h.find("[name='"+c+"']").filter("[type='checkbox'],[type='radio']").bind("click",function(){setTimeout(function(){a.trigger("blur")},0)})});h.find("select[datatype][multiple]").bind("click",function(){var a=b(this);setTimeout(function(){a.trigger("blur")},0)});g.util.usePlugin.call(h,c,a,e,f)},usePlugin:function(a,c,e,f){var h=this;a=a||{};if(h.find("input[plugin='swfupload']").length&&"undefined"!=typeof swfuploadhandler){var d=
{custom_settings:{form:h,showmsg:function(a,b,d){g.util.showmsg.call(h,a,c,{obj:h.find("input[plugin='swfupload']"),type:b,sweep:e})}}},d=b.extend(!0,{},a.swfupload,d);h.find("input[plugin='swfupload']").each(function(a){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";b(this).val("");swfuploadhandler.init(d,a)})}h.find("input[plugin='datepicker']").length&&b.fn.datePicker&&(a.datepicker=a.datepicker||{},a.datepicker.format&&(Date.format=a.datepicker.format,delete a.datepicker.format),
a.datepicker.firstDayOfWeek&&(Date.firstDayOfWeek=a.datepicker.firstDayOfWeek,delete a.datepicker.firstDayOfWeek),h.find("input[plugin='datepicker']").each(function(c){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";a.datepicker.callback&&b(this).bind("dateSelected",function(){var c=(new Date(b.event._dpCache[this._dpId].getSelected()[0])).asString(Date.format);a.datepicker.callback(c,this)});b(this).datePicker(a.datepicker)}));h.find("input[plugin*='passwordStrength']").length&&
b.fn.passwordStrength&&(a.passwordstrength=a.passwordstrength||{},a.passwordstrength.showmsg=function(a,b,d){g.util.showmsg.call(h,b,c,{obj:a,type:d,sweep:e})},h.find("input[plugin='passwordStrength']").each(function(c){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";b(this).passwordStrength(a.passwordstrength)}));if("addRule"!=f&&a.jqtransform&&b.fn.jqTransSelect&&"true"!=h[0].jqTransSelected){h[0].jqTransSelected="true";var k=function(a){b(".jqTransformSelectWrapper ul:visible").each(function(){var c=
b(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);a&&c.oLabel&&c.oLabel.get(0)==a.get(0)||b(this).hide()})};f=function(a){0===b(a.target).parents(".jqTransformSelectWrapper").length&&k(b(a.target))};a.jqtransform.selector?(h.find(a.jqtransform.selector).filter("input[type='submit'], input[type='reset'], input[type='button']").jqTransInputButton(),h.find(a.jqtransform.selector).filter("input[type='text'], input[type='password']").jqTransInputText(),h.find(a.jqtransform.selector).filter("input[type='checkbox']").jqTransCheckBox(),
h.find(a.jqtransform.selector).filter("input[type='radio']").jqTransRadio(),h.find(a.jqtransform.selector).filter("textarea").jqTransTextarea(),0<h.find(a.jqtransform.selector).filter("select").length&&(h.find(a.jqtransform.selector).filter("select").jqTransSelect(),b(document).mousedown(f))):h.jqTransform();h.find(".jqTransformSelectWrapper").find("li a").click(function(){b(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(a){var b=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g,
e=a[0].settings.label||".vf_label",e=this.siblings(e).eq(0).text()||this.siblings().find(e).eq(0).text()||this.parent().siblings(e).eq(0).text()||this.parent().siblings().find(e).eq(0).text(),e=(e=e.replace(/\s(?![a-zA-Z])/g,"").match(b))?e.join(""):[""],b=/\{(.+)\|(.+)\}/;a=a.data("tipmsg").s||p.s;if(""!=e){if(a=a.replace(/\{0\|(.+)\}/,e),this.attr("recheck"))return a=a.replace(/\{(.+)\}/,""),this.attr("nullmsg",a),a}else a=this.is("[type='checkbox'],[type='radio'],select")?a.replace(/\{0\|(.+)\}/,
""):a.replace(/\{0\|(.+)\}/,"$1");a=this.is("[type='checkbox'],[type='radio'],select")?a.replace(b,"$2"):a.replace(b,"$1");this.attr("nullmsg",a);return a},getErrormsg:function(a,c,e){var f=/^(.+?)(\d+)-(\d+)$/,g=/(.*?)\d+(.+?)\d+(.*)/;c=c.match(/^(.+?)((\d+)-(\d+))?$/);if("recheck"==e)return f=a.data("tipmsg").reck||p.reck;e=b.extend({},p.w,a.data("tipmsg").w);if(c[0]in e)return(a.data("tipmsg").w?a.data("tipmsg").w[c[0]]:"")||p.w[c[0]];for(var d in e)if(-1!=d.indexOf(c[1])&&f.test(d))return f=((a.data("tipmsg").w?
a.data("tipmsg").w[d]:!1)||p.w[d]).replace(g,"$1"+c[3]+"$2"+c[4]+"$3"),console.info(c[0]),a.data("tipmsg").w=a.data("tipmsg").w||{},a.data("tipmsg").w[c[0]]=f;return a.data("tipmsg").def||p.def},_regcheck:function(a,b,e,f){var c=null,d=!1,k=/\/.+\//g,n=/^(.+?)(\d+)-(\d+)$/,l=3;if(k.test(a))d=a.match(k)[0].slice(1,-1),n=a.replace(k,""),d=RegExp(d,n).test(b);else if("[object Function]"==g.util.toString.call(g.util.dataType[a]))d=g.util.dataType[a](b,e,f,g.util.dataType),!0===d||d===t?d=!0:(c=d,d=!1);
else{if(!(a in g.util.dataType)){var k=a.match(n),m;if(k)for(var r in g.util.dataType){if((m=r.match(n))&&k[1]===m[1]){r=g.util.dataType[r].toString();n=r.match(/\/[mgi]*/g)[1].replace("/","");m=new RegExp("\\{"+m[2]+","+m[3]+"\\}","g");r=r.replace(/\/[mgi]*/g,"/").replace(m,"{"+k[2]+","+k[3]+"}").replace(/^\//,"").replace(/\/$/,"");g.util.dataType[a]=new RegExp(r,n);break}}else d=!1,c=f.data("tipmsg").undef||p.undef}"[object RegExp]"==g.util.toString.call(g.util.dataType[a])&&(d=g.util.dataType[a].test(b))}d?
(l=2,c=e.attr("sucmsg")||f.data("tipmsg").r||p.r,e.attr("recheck")&&(k=f.find("input[name='"+e.attr("recheck")+"']:first"),b!=k.val()&&(d=!1,l=3,c=e.attr("errormsg")||g.util.getErrormsg.call(e,f,a,"recheck")))):(c=c||e.attr("errormsg")||g.util.getErrormsg.call(e,f,a),g.util.isEmpty.call(e,b)&&(c=e.attr("nullmsg")||g.util.getNullmsg.call(e,f)));return{passed:d,type:l,info:c}},regcheck:function(a,b,e){var c=null;if("ignore"===e.attr("ignore")&&g.util.isEmpty.call(e,b))return e.data("cked")&&(c=""),
{passed:!0,type:4,info:c};e.data("cked","cked");a=g.util.parseDatatype(a);for(var h,c=0;c<a.length;c++){for(var d=0;d<a[c].length&&(h=g.util._regcheck(a[c][d],b,e,this),h.passed);d++);if(h.passed)break}return h},parseDatatype:function(a){var b=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,e=a.match(b);a=a.replace(b,"").replace(/\s*/g,"").split("");var b=[],f=0;b[0]=[];b[0].push(e[0]);for(var g=0;g<a.length;g++)"|"==a[g]&&(f++,b[f]=[]),b[f].push(e[g+1]);return b},showmsg:function(a,c,e,f){if(a!=t&&("bycheck"!=
f||!e.sweep||(!e.obj||e.obj.is(".vf_error"))&&"function"!=typeof c))if(b.extend(e,{curform:this}),"function"==typeof c)c(a,e,g.util.cssctl);else{(1==c||"byajax"==f&&4!=c)&&q.find(".vf_info").html("<i></i>"+a);if(1==c&&"bycheck"!=f&&2!=e.type||"byajax"==f&&4!=c)v=!1,window.msgobj=q,q.find(".iframe").css("height",q.height()),q.addClass("show"),setTimeout(function(){q.removeClass("show")},3E3);2==c&&e.obj&&(e.obj.parent().next().find(".vf_checktip").html("<i></i>"+a),g.util.cssctl(e.obj.parent().next().find(".vf_checktip"),
e.type));3!=c&&4!=c||!e.obj||(e.obj.siblings(".vf_checktip").html("<i></i>"+a),g.util.cssctl(e.obj.siblings(".vf_checktip"),e.type))}},cssctl:function(a,b){switch(b){case 1:a.removeClass("vf_right vf_wrong").addClass("vf_checktip vf_loading");break;case 2:a.removeClass("vf_wrong vf_loading").addClass("vf_checktip vf_right");break;case 4:a.removeClass("vf_right vf_wrong vf_loading").addClass("vf_checktip");break;default:a.removeClass("vf_right vf_loading").addClass("vf_checktip vf_wrong")}},check:function(a,
c,e){var f=a[0].settings;c=c||"";var h=g.util.getValue.call(a,b(this));if(f.ignoreHidden&&b(this).is(":hidden")||"dataIgnore"===b(this).data("dataIgnore"))return!0;if(f.dragonfly&&!b(this).data("cked")&&g.util.isEmpty.call(b(this),h)&&"ignore"!=b(this).attr("ignore"))return!1;var d=g.util.regcheck.call(a,b(this).attr("datatype"),h,b(this));if(h==this.validform_lastval&&!b(this).attr("recheck")&&""==c)return d.passed?!0:!1;this.validform_lastval=h;var k;u=k=b(this);if(!d.passed)return g.util.abort.call(k[0]),
e||(g.util.showmsg.call(a,d.info,f.tiptype,{obj:b(this),type:d.type,sweep:f.tipSweep},"bycheck"),!f.tipSweep&&k.addClass("vf_error")),!1;var n=b(this).attr("ajaxurl");if(n&&!g.util.isEmpty.call(b(this),h)&&!e){var l=b(this);l[0].validform_subpost="postform"==c?"postform":"";if("posting"===l[0].validform_valid&&h==l[0].validform_ckvalue)return"ajax";l[0].validform_valid="posting";l[0].validform_ckvalue=h;g.util.showmsg.call(a,a.data("tipmsg").c||p.c,f.tiptype,{obj:l,type:1,sweep:f.tipSweep},"bycheck");
g.util.abort.call(k[0]);var m=b.extend(!0,{},f.ajaxurl||{}),r={type:"POST",cache:!1,url:n,data:"param="+encodeURIComponent(h)+"&name="+encodeURIComponent(b(this).attr("name")),success:function(c){"1"===b.trim(c.status)?(l[0].validform_valid="true",c.info&&l.attr("sucmsg",c.info),g.util.showmsg.call(a,l.attr("sucmsg")||a.data("tipmsg").r||p.r,f.tiptype,{obj:l,type:2,sweep:f.tipSweep},"bycheck"),k.removeClass("vf_error"),u=null,"postform"==l[0].validform_subpost&&a.trigger("submit")):(l[0].validform_valid=
c.info,g.util.showmsg.call(a,c.info,f.tiptype,{obj:l,type:3,sweep:f.tipSweep}),k.addClass("vf_error"));k[0].validform_ajax=null},error:function(b){if("200"==b.status)return"1"==b.responseText?m.success({status:"1"}):m.success({status:"0",info:b.responseText}),!1;"abort"!==b.statusText&&(g.util.showmsg.call(a,"status: "+b.status+"; statusText: "+b.statusText,f.tiptype,{obj:l,type:3,sweep:f.tipSweep}),k.addClass("vf_error"));l[0].validform_valid=b.statusText;k[0].validform_ajax=null;return!0}};if(m.success){var q=
m.success;m.success=function(a){r.success(a);q(a,l)}}if(m.error){var t=m.error;m.error=function(a){r.error(a)&&t(a,l)}}m=b.extend({},r,m,{dataType:"json"});k[0].validform_ajax=b.ajax(m);return"ajax"}n&&g.util.isEmpty.call(b(this),h)&&(g.util.abort.call(k[0]),k[0].validform_valid="true");e||(g.util.showmsg.call(a,d.info,f.tiptype,{obj:b(this),type:d.type,sweep:f.tipSweep},"bycheck"),k.removeClass("vf_error"));u=null;return!0},submitForm:function(a,c,e,f,h){var d=this;if("posting"===d[0].validform_status||
a.postonce&&"posted"===d[0].validform_status||!1===(a.beforeCheck&&a.beforeCheck(d)))return!1;var k=!0,n;d.find("[datatype]").each(function(){if(c)return!1;if(a.ignoreHidden&&b(this).is(":hidden")||"dataIgnore"===b(this).data("dataIgnore"))return!0;var e=g.util.getValue.call(d,b(this)),f;u=f=b(this);n=g.util.regcheck.call(d,b(this).attr("datatype"),e,b(this));if(!n.passed){g.util.showmsg.call(d,n.info,a.tiptype,{obj:b(this),type:n.type,sweep:a.tipSweep});f.addClass("vf_error");if(!a.showAllError)return f.focus(),
k=!1;k&&(k=!1);return!0}if(b(this).attr("ajaxurl")&&!g.util.isEmpty.call(b(this),e)){if("true"!==this.validform_valid){e=b(this);g.util.showmsg.call(d,d.data("tipmsg").v||p.v,a.tiptype,{obj:e,type:3,sweep:a.tipSweep});f.addClass("vf_error");e.trigger("blur",["postform"]);if(!a.showAllError)return k=!1;k&&(k=!1);return!0}}else b(this).attr("ajaxurl")&&g.util.isEmpty.call(b(this),e)&&(g.util.abort.call(this),this.validform_valid="true");g.util.showmsg.call(d,n.info,a.tiptype,{obj:b(this),type:n.type,
sweep:a.tipSweep});f.removeClass("vf_error");u=null});a.showAllError&&d.find(".vf_error:first").focus();if(k){if(!1===(a.beforeSubmit&&a.beforeSubmit(d)))return!1;d[0].validform_status="posting";if(a.ajaxPost||"ajaxPost"===f){f=b.extend(!0,{},a.ajaxpost||{});f.url=e||f.url||a.url||d.attr("action");g.util.showmsg.call(d,d.data("tipmsg").p||p.p,a.tiptype,{obj:d,type:1,sweep:a.tipSweep},"byajax");h?f.async=!1:!1===h&&(f.async=!0);if(f.success){var l=f.success;f.success=function(c){a.callback&&a.callback(c);
d[0].validform_ajax=null;"1"===b.trim(c.status)?d[0].validform_status="posted":d[0].validform_status="normal";l(c,d)}}if(f.error){var m=f.error;f.error=function(b){a.callback&&a.callback(b);d[0].validform_status="normal";d[0].validform_ajax=null;m(b,d)}}e={type:"POST",async:!0,data:d.serializeArray(),success:function(c){"1"===b.trim(c.status)?(d[0].validform_status="posted",g.util.showmsg.call(d,c.info,a.tiptype,{obj:d,type:2,sweep:a.tipSweep},"byajax")):(d[0].validform_status="normal",g.util.showmsg.call(d,
c.info,a.tiptype,{obj:d,type:3,sweep:a.tipSweep},"byajax"));a.callback&&a.callback(c);d[0].validform_ajax=null},error:function(b){g.util.showmsg.call(d,"status: "+b.status+"; statusText: "+b.statusText,a.tiptype,{obj:d,type:3,sweep:a.tipSweep},"byajax");a.callback&&a.callback(b);d[0].validform_status="normal";d[0].validform_ajax=null}};f=b.extend({},e,f,{dataType:"json"});d[0].validform_ajax=b.ajax(f)}else return a.postonce||(d[0].validform_status="normal"),(e=e||a.url)&&d.attr("action",e),a.callback&&
a.callback(d)}return!1},resetForm:function(){this.each(function(){this.reset&&this.reset();this.validform_status="normal"});this.find(".vf_right").text("");this.find(".passwordStrength").children().removeClass("bgStrength");this.find(".vf_checktip").removeClass("vf_wrong vf_right vf_loading");this.find(".vf_error").removeClass("vf_error");this.find("[datatype]").removeData("cked").removeData("dataIgnore").each(function(){this.validform_lastval=null});this.eq(0).find("input:first").focus()},abort:function(){this.validform_ajax&&
this.validform_ajax.abort()}};b.Datatype=g.util.dataType;g.prototype={dataType:g.util.dataType,eq:function(a){if(a>=this.forms.length)return null;a in this.objects||(this.objects[a]=new g(b(this.forms[a]).get(),{},!0));return this.objects[a]},resetStatus:function(){b(this.forms).each(function(){this.validform_status="normal"});return this},setStatus:function(a){b(this.forms).each(function(){this.validform_status=a||"posting"});return this},getStatus:function(){return b(this.forms)[0].validform_status},
ignore:function(a){a=a||"[datatype]";b(this.forms).find(a).each(function(){b(this).data("dataIgnore","dataIgnore").removeClass("vf_error")});return this},unignore:function(a){a=a||"[datatype]";b(this.forms).find(a).each(function(){b(this).removeData("dataIgnore")});return this},addRule:function(a){a=a||[];for(var c=0;c<a.length;c++){var e=b(this.forms).find(a[c].ele),f;for(f in a[c])"ele"!==f&&e.attr(f,a[c][f])}b(this.forms).each(function(){var a=b(this);g.util.enhance.call(a,this.settings.tiptype,
this.settings.usePlugin,this.settings.tipSweep,"addRule")});return this},ajaxPost:function(a,c,e){var f=this;b(f.forms).each(function(){1!=this.settings.tiptype&&2!=this.settings.tiptype&&3!=this.settings.tiptype||w();g.util.submitForm.call(b(f.forms[0]),this.settings,a,e,"ajaxPost",c)});return this},submitForm:function(a,c){b(this.forms).each(function(){var e=g.util.submitForm.call(b(this),this.settings,a,c);e===t&&(e=!0);!0===e&&this.submit()});return this},resetForm:function(){g.util.resetForm.call(b(this.forms));
return this},abort:function(){b(this.forms).each(function(){g.util.abort.call(this)});return this},check:function(a,c){c=c||"[datatype]";var e=b(this.forms),f=!0;e.find(c).each(function(){g.util.check.call(this,e,"",a)||(f=!1)});return f},config:function(a){a=a||{};b(this.forms).each(function(){var c=b(this);this.settings=b.extend(!0,this.settings,a);g.util.enhance.call(c,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep)});return this}};b.fn.Validform=function(a){return new g(this,
a)};b.Showmsg=function(a){w();g.util.showmsg.call(x,a,1,{})};b.Hidemsg=function(){q.hide();v=!0}})("undefined"==typeof jQuery?Zepto:jQuery,window);